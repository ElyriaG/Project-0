<!DOCTYPE html>
<html>
<head>
  <title>Spotify Web Playback SDK Quick Start Tutorial</title>
</head>
<body>



    <iframe id="player" src="" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>

   
  <h1>Spotify Web Playback SDK Quick Start Tutorial</h1>
  <h2>Open your console log: <code>View > Developer > JavaScript Console</code></h2>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
    //spotify api hacking
    // Client ID facc86141dcf4025afaa50dfe18f85b1
    // Client Secret a2f1c888f95141c59b760399df45b2c2 
 
   var topic = "happy"

  var queryURL = "https://api.spotify.com/v1/search?q=" + topic + "&type=playlist" 
    
        // We then created an AJAX call
        $.ajax({
        url: queryURL,
        method: "GET",
        headers: {"Accept": "application/json", "Content-Type": "application/json"}
        }).then(function(response) {
        console.log(response.playlists.items[0].external_urls.spotify)
        console.log(response.playlists.items[0])
        var id = response.playlists.items[0].id
        var urlBuilder = "https://open.spotify.com/embed/playlist/"
        var link = urlBuilder + id;
        console.log(link)
        $("#player").attr("src", link)
        //So far we can search, get a response and grab a url, what we have to look at is modifying the returned url
        //to change from  https://open.spotify.com/playlist/37i9dQZF1DXdPec7aLTmlC to https://open.spotify.com/embed/playlist/37i9dQZF1DXdPec7aLTmlC
        //and then place it in the iframe
        
        });


        // "Authorization": "Bearer BQDDRfDxBcOlsI46oQMTwK46lGXUOlwlweID_dU56F55t5EwqBQAxZEmxSZiOIU0HRWGoK0SIPDPm6ntH-bms7YfYWs1-FFwg8nlH176TPF_T7LWiZH4p1ebdjFmAMkIHW4AcPYw0xnSH5upZQHS_7j2Hao0_uqb3g"}
  </script>
</body>
</html>